{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":["inherits","class-call-check"]},"ignored":false,"code":"/* global ValidationError:true */\n/* global SimpleSchema */\n\n// This is exactly what comes out of SS.\nvar errorSchema = new SimpleSchema({\n  name: { type: String },\n  type: { type: String },\n  details: { type: Object, blackbox: true, optional: true }\n});\n\nvar errorsSchema = new SimpleSchema({\n  errors: { type: Array },\n  'errors.$': { type: errorSchema }\n});\n\nValidationError = (function (_Meteor$Error) {\n  babelHelpers.inherits(_class, _Meteor$Error);\n\n  function _class(errors) {\n    var message = arguments.length <= 1 || arguments[1] === undefined ? 'Validation Failed' : arguments[1];\n    babelHelpers.classCallCheck(this, _class);\n\n    errorsSchema.validate({ errors: errors });\n\n    _Meteor$Error.call(this, ValidationError.ERROR_CODE, message, errors);\n\n    this.errors = errors;\n  }\n\n  return _class;\n})(Meteor.Error);\n\n// If people use this to check for the error code, we can change it\n// in future versions\nValidationError.ERROR_CODE = 'validation-error';","ast":null,"map":{"version":3,"sources":["/validation-error.js"],"names":[],"mappings":";;;;AAIA,IAAM,WAAW,GAAG,IAAI,YAAY,CAAC;AACnC,MAAI,EAAE,EAAC,IAAI,EAAE,MAAM,EAAC;AACpB,MAAI,EAAE,EAAC,IAAI,EAAE,MAAM,EAAC;AACpB,SAAO,EAAE,EAAC,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAC;CACxD,CAAC,CAAC;;AAEH,IAAM,YAAY,GAAG,IAAI,YAAY,CAAC;AACpC,QAAM,EAAE,EAAC,IAAI,EAAE,KAAK,EAAC;AACrB,YAAU,EAAE,EAAC,IAAI,EAAE,WAAW,EAAC;CAChC,CAAC,CAAC;;AAEH,eAAe;;;AACF,kBAAC,MAAM,EAAiC;QAA/B,OAAO,yDAAG,mBAAmB;;;AAC/C,gBAAY,CAAC,QAAQ,CAAC,EAAC,MAAM,EAAN,MAAM,EAAC,CAAC,CAAC;;AAEhC,6BAAM,eAAe,CAAC,UAAU,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;;AAEnD,QAAI,CAAC,MAAM,GAAG,MAAM,CAAC;GACtB;;;GAP6B,MAAM,CAAC,KAAK,CAQ3C,CAAC;;;;AAIF,eAAe,CAAC,UAAU,GAAG,kBAAkB,CAAC","file":"/validation-error.js.map","sourcesContent":["/* global ValidationError:true */\n/* global SimpleSchema */\n\n// This is exactly what comes out of SS.\nconst errorSchema = new SimpleSchema({\n  name: {type: String},\n  type: {type: String},\n  details: {type: Object, blackbox: true, optional: true}\n});\n\nconst errorsSchema = new SimpleSchema({\n  errors: {type: Array},\n  'errors.$': {type: errorSchema}\n});\n\nValidationError = class extends Meteor.Error {\n  constructor(errors, message = 'Validation Failed') {\n    errorsSchema.validate({errors});\n\n    super(ValidationError.ERROR_CODE, message, errors);\n\n    this.errors = errors;\n  }\n};\n\n// If people use this to check for the error code, we can change it\n// in future versions\nValidationError.ERROR_CODE = 'validation-error';\n"]},"hash":"bb0b4e8ab6b44d26d7a5d330ec0a9376d0508ef3"}
